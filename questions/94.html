<!DOCTYPE html>
<html>
  <head>
        <title> &lt;a href=https://aiquizzes.com/gcp_images/array_indexing.png&gt;&lt;img src=https://aiquizzes.com/gcp_images/array_indexing.png&gt;&lt;/a&gt;&lt;br&gt; At times we want to take values from specific locations in an array and sum them up. For example, this scenario arises when calculating the cross entropy loss. On one side we have a matrix of probabilities, on the other an array of one hot encoded variables where 1s signify values of interest.

1) One way to go about this would be to perform element wise multiplication of probabilities and one hot encoded variables and sum the results.

2) Another option would be to index into the probabilities array using the position of 1s in the one\_hot\_encoded array and perform the summation.

The code above demonstrates both approaches. Which one is faster?</title>
        <meta name="description" content="approach #2 is faster">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="A7WaJ0ekAU3HkjmSlh0vOhbvdUUYhQJxsdR+WLRxw0G6vu3P5tLBmtGiGfQv8jy1vvKwEcTjlWfIXTrslN3FkQ==" />
    

    <link rel="stylesheet" media="all" href="../packs/css/application-5184725d.css" data-turbolinks-track="reload" />
    <script src="../packs/js/application-d5fac83c9fc8d3ee256f.js" data-turbolinks-track="reload"></script>
    <link href="https://storage.googleapis.com/aiquizzes/static/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  </head>
  <body class="text-gray-900 antialiased">
    <header class="bg-gray-100">
      <div class="sm:flex sm:justify-between sm:items-center max-w-5xl m-auto">
        <div class="flex sm:block items-center justify-between px-2 py-1">
          <a class="no-underline" href="../index.html"><div class="font-bold text-2xl mt-0"><span class="text-orange-500">ai</span>quizzes
            </div></a>

          <div class="sm:hidden">
            <button id="nav_button" type="button" class="block text-gray-600 focus:text-gray-900 hover:text-gray-900 focus:outline-none">
              <svg class="h-6 w-6 fill-current" viewBox="0 0 24 24">
                <path id="nav_hamburger" fill-rule="evenodd" d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"/>
                <path id="nav_x" class="hidden" fill-rule="evenodd" d="M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"/>
              </svg>
            </button>
          </div>
        </div>
        <div class="px-2 pb-2 hidden sm:flex" id="nav_links">
          <a class="block px-2 py-1 font-semibold hover:bg-gray-300 rounded sm:mt-2 sm:ml-2 no-underline" href="../knowledgebase.html">Knowledgebase</a>
          <a class="mt-1 block px-2 py-1 font-semibold hover:bg-gray-300 rounded sm:mt-2 sm:ml-2 no-underline" href="../learn.html">Learn</a>
          <a class="mt-1 block px-2 py-1 font-semibold hover:bg-gray-300 rounded sm:mt-2 sm:ml-2 no-underline" href="../howto.html">Howto</a>
            <a class="mt-1 block px-2 py-1 font-semibold hover:bg-gray-300 rounded sm:mt-2 sm:ml-2 no-underline" href="../settings.html">Login</a>
        </div>
      </div>
    </header>

    <div class="max-w-xl p-8 mx-auto font-serif text-lg">
      <div class="flex justify-between">
  <div class="uppercase text-xs font-semibold text-gray-600 tracking-wide font-sans mt-0">
    Question 3/13 fast.ai v3 lecture 9
  </div>
</div>


<h1 class="shadow-md p-3">
  <a href="../gcp_images/array_indexing.png"><img src="../gcp_images/array_indexing.png"></a><br> At times we want to take values from specific locations in an array and sum them up. For example, this scenario arises when calculating the cross entropy loss. On one side we have a matrix of probabilities, on the other an array of one hot encoded variables where 1s signify values of interest.</p>

<p>1) One way to go about this would be to perform element wise multiplication of probabilities and one hot encoded variables and sum the results.</p>

<p>2) Another option would be to index into the probabilities array using the position of 1s in the one_hot_encoded array and perform the summation.</p>

<p>The code above demonstrates both approaches. Which one is faster?
</h1>

<p class="uppercase text-xs font-semibold text-gray-600 tracking-wide font-sans mt-6">Answer</p>
<article class="shadow-md p-3">
  approach #2 is faster
</article>


  <p class="uppercase text-xs font-semibold text-gray-600 tracking-wide font-sans mt-6">Relevant part of lecture</p>
  <div class="embed-responsive aspect-ratio-16/9 flex justify-center mt-1 shadow-md">
    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/AcA8HAYh7IE?start=2430" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

  </div>

  <p class="uppercase text-xs font-semibold text-gray-600 tracking-wide font-sans mt-6">supplementary material</p>
    <div class="text-sm shadow-md p-3">
      Pytorch implements integer array indexing as in numpy. You can read more about how it works [here].(<a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#integer-array-indexing">https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#integer-array-indexing</a>)
    </div>


    </div>
  </body>
</html>
